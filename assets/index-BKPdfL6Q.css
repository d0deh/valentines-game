:root{--sage: #9CAF88;--forest: #2D5A3D;--emerald: #3D6A4D;--mint: #E8F5E9;--cream: #FAF8F0;--gold: #D4A574;--text: #2A3A2A;--background-dark: #1a2a1a;--background-mid: #2d3a2d;--shadow-soft: 0 2px 8px rgba(0, 0, 0, .15);--shadow-medium: 0 4px 16px rgba(0, 0, 0, .2);--shadow-heavy: 0 8px 32px rgba(0, 0, 0, .3);--transition-fast: .2s ease;--transition-medium: .3s ease;--transition-slow: .5s ease}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:Cormorant Garamond,Georgia,serif;background:#1c1c20;min-height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden;color:var(--text);line-height:1.6}body:before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at 50% 50%,rgba(45,40,35,.6) 0%,transparent 60%),radial-gradient(ellipse at center,transparent 40%,rgba(0,0,0,.5) 100%);pointer-events:none;z-index:1}body:after{content:"";position:fixed;top:0;left:0;width:100%;height:100%;opacity:.025;background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");pointer-events:none;z-index:1}.loading-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,var(--background-dark) 0%,var(--background-mid) 100%);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:2000;transition:opacity .8s ease,visibility .8s ease}.loading-screen.hidden{opacity:0;visibility:hidden;pointer-events:none}.loading-heart{font-size:60px;animation:loadingPulse 1.5s ease-in-out infinite}.loading-text{color:var(--sage);font-size:20px;margin-top:20px;font-style:italic}.particles{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;z-index:0}.particle{position:absolute;opacity:.5;animation:floatUp 10s ease-in infinite;will-change:transform}.music-controls{position:fixed;top:20px;right:20px;display:flex;align-items:center;gap:12px;z-index:100;background:#1e3223e6;padding:8px 12px 8px 8px;border-radius:30px;box-shadow:var(--shadow-medium);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.music-control{background:#2d5a3de6;color:#fff;border:none;width:40px;height:40px;border-radius:50%;cursor:pointer;font-size:16px;transition:all var(--transition-medium);display:flex;justify-content:center;align-items:center;flex-shrink:0}.music-control:hover{background:#3c6e4b;transform:scale(1.1)}.music-control:focus{outline:2px solid var(--sage);outline-offset:2px}.volume-control{display:flex;align-items:center;gap:10px;opacity:1;transition:opacity .3s ease,width .3s ease}.volume-dial{position:relative;width:80px;height:24px;cursor:pointer}.volume-dial-track{position:absolute;top:50%;left:0;transform:translateY(-50%);width:100%;height:6px;background:#fff3;border-radius:3px}.volume-dial-fill{position:absolute;top:50%;left:0;transform:translateY(-50%);width:50%;height:6px;background:linear-gradient(90deg,var(--sage),var(--gold));border-radius:3px;transition:width .1s ease}.volume-dial-knob{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:18px;height:18px;background:linear-gradient(145deg,#fff,#e0e0e0);border-radius:50%;box-shadow:0 2px 6px #0000004d;cursor:grab;transition:transform .1s ease,box-shadow .2s ease}.volume-dial-knob:hover{transform:translate(-50%,-50%) scale(1.15);box-shadow:0 3px 10px #0006}.volume-dial-knob:active{cursor:grabbing;transform:translate(-50%,-50%) scale(1.1)}.volume-dial.dragging .volume-dial-knob{cursor:grabbing;transform:translate(-50%,-50%) scale(1.1);box-shadow:0 4px 12px #00000080}.volume-label{color:#fffc;font-size:12px;font-family:Cormorant Garamond,serif;min-width:32px;text-align:center}.question-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at center,#c8e6c9f2,#e8f5e9fa,#c8dcc8);display:none;flex-direction:column;justify-content:center;align-items:center;z-index:500;opacity:0;transition:opacity .5s ease}.question-screen.visible{display:flex;opacity:1}.question-screen-content{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:40px;max-width:90vw}.question-screen .question-title{font-family:Caveat,cursive;font-size:clamp(52px,10vw,100px);color:var(--forest);margin-bottom:60px;text-shadow:2px 2px 4px rgba(0,0,0,.1),0 0 60px rgba(45,90,61,.2);line-height:1.2;animation:subtlePulse 3s ease-in-out infinite}.question-screen .question-buttons{display:flex;flex-direction:column;gap:30px;align-items:center;min-height:200px}.question-screen .yes-btn{padding:30px 100px;font-family:Caveat,cursive;font-size:clamp(32px,6vw,52px);font-weight:700;background:linear-gradient(145deg,#3d7a4d,var(--forest),#2a5a3a);color:#fff;border:none;border-radius:60px;cursor:pointer;transition:all .4s cubic-bezier(.175,.885,.32,1.275);box-shadow:0 10px 40px #2d5a3d80,0 6px 20px #2d5a3d4d,inset 0 2px #fff3,inset 0 -2px #0000001a;letter-spacing:2px;text-shadow:0 2px 4px rgba(0,0,0,.2);animation:yesButtonGlow 2s ease-in-out infinite;position:relative;overflow:hidden}@keyframes yesButtonGlow{0%,to{box-shadow:0 10px 40px #2d5a3d80,0 6px 20px #2d5a3d4d,inset 0 2px #fff3}50%{box-shadow:0 10px 50px #2d5a3db3,0 6px 25px #2d5a3d80,0 0 80px #2d5a3d4d,inset 0 2px #fff3}}.question-screen .yes-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(120deg,transparent,rgba(255,255,255,.3),transparent);transition:left .6s ease}.question-screen .yes-btn:hover{transform:scale(1.1) translateY(-5px);box-shadow:0 15px 50px #2d5a3d99,0 8px 25px #2d5a3d66,0 0 100px #2d5a3d66}.question-screen .yes-btn:hover:before{left:100%}.question-screen .no-btn-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:5}.question-screen .no-btn{padding:16px 40px;font-family:Caveat,cursive;font-size:clamp(20px,4vw,30px);background:linear-gradient(145deg,#e0e0e0,#c8c8c8);color:#666;border:none;border-radius:30px;cursor:pointer;transition:all .12s ease;position:absolute;top:70%;left:50%;transform:translate(-50%,-50%);white-space:nowrap;box-shadow:0 4px 15px #00000026;min-width:140px;text-align:center;pointer-events:auto}.question-screen .no-btn:hover{background:linear-gradient(145deg,#d5d5d5,#bbb)}.back-to-book-btn{position:absolute;top:30px;left:30px;padding:12px 24px;font-family:Cormorant Garamond,serif;font-size:16px;background:#2d5a3d1a;color:var(--forest);border:2px solid var(--forest);border-radius:25px;cursor:pointer;transition:all .3s ease;z-index:10}.back-to-book-btn:hover{background:var(--forest);color:#fff}.back-to-book-btn:focus{outline:2px solid var(--gold);outline-offset:2px}.book-container{transition:opacity .4s ease}.success-screen{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,var(--background-dark) 0%,var(--background-mid) 100%);display:none;flex-direction:column;justify-content:center;align-items:center;z-index:1000;opacity:0}.success-screen.visible{display:flex}.success-title{font-family:Caveat,cursive;font-size:72px;color:var(--sage);text-shadow:0 0 40px rgba(156,175,136,.5);margin-bottom:20px}.success-message{font-size:28px;color:var(--gold);margin-bottom:30px;font-style:italic}.success-hearts{font-size:45px}.restart-btn{margin-top:40px;padding:12px 30px;font-family:Cormorant Garamond,serif;font-size:16px;background:transparent;color:var(--sage);border:2px solid var(--sage);border-radius:25px;cursor:pointer;transition:all var(--transition-medium);opacity:.7}.restart-btn:hover{background:var(--sage);color:var(--forest);opacity:1}.restart-btn:focus{outline:2px solid var(--gold);outline-offset:2px}#confetti-canvas{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:999}@media (max-width: 600px){.loading-heart{font-size:48px}.loading-text{font-size:16px}.music-controls{top:15px;right:15px;padding:6px 10px 6px 6px;gap:8px}.music-control{width:36px;height:36px;font-size:14px}.volume-dial{width:60px}.volume-label{font-size:11px;min-width:28px}.success-title{font-size:52px}.success-message{font-size:22px;padding:0 20px;text-align:center}.success-hearts{font-size:36px}.question-screen .question-title{font-size:42px;margin-bottom:40px}.question-screen .yes-btn{padding:20px 60px;font-size:32px}.question-screen .no-btn{padding:12px 30px;font-size:20px}.back-to-book-btn{top:15px;left:15px;padding:10px 18px;font-size:14px}.question-screen-content{padding:20px}}@media (prefers-reduced-motion: reduce){*,*:before,*:after{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}.particle{display:none}}:focus-visible{outline:2px solid var(--gold);outline-offset:2px}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.book-container{position:relative;z-index:10;width:calc(100vw - 48px);height:calc(100vh - 80px);max-width:1600px;display:flex;justify-content:center;align-items:center;padding:16px 56px}#book{position:relative;border-radius:8px;box-shadow:0 0 0 3px #322d2824,0 4px 16px #0000002e,0 12px 32px #0000001f,0 24px 48px #0000000f}#book:after{display:none}.page{background:#faf8f0;padding:0;display:flex;flex-direction:column;position:relative;border:none}.cover-page{background:linear-gradient(145deg,var(--forest) 0%,var(--emerald) 40%,var(--forest) 100%);color:var(--cream);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;position:relative;overflow:hidden}.cover-page:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at 30% 20%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(0,0,0,.2) 0%,transparent 50%);pointer-events:none}.cover-decoration{font-size:clamp(40px,6vh,70px);margin-bottom:16px;animation:gentlePulse 3s ease-in-out infinite}.cover-title{font-family:Caveat,cursive;font-size:clamp(36px,7vw,72px);margin-bottom:12px;text-shadow:2px 2px 4px rgba(0,0,0,.3);position:relative;z-index:1}.cover-subtitle{font-size:clamp(16px,2.5vw,26px);opacity:.9;margin-bottom:24px;font-style:italic}.cover-hint{font-size:clamp(12px,1.8vw,16px);opacity:.6;margin-top:30px;animation:fadeInOut 2s ease-in-out infinite}.content-page{padding:0}.content-page.image-full{padding:0;overflow:visible;background:#faf8f0}.page-number{position:absolute;bottom:10px;font-size:13px;color:var(--sage);font-style:italic}.page:nth-child(odd) .page-number{right:14px}.page:nth-child(2n) .page-number{left:14px}.image-container{width:100%;height:100%;background:#faf8f0;display:flex;justify-content:center;align-items:center;overflow:hidden}.image-full .image-container{width:100%;height:100%;min-height:unset;margin-bottom:0;border:none;border-radius:0;transform:none;box-shadow:none;background:#faf8f0}.image-container img{width:100%;height:100%;object-fit:contain;opacity:0;transition:opacity .4s ease;image-rendering:auto;-webkit-image-rendering:auto}.image-container img.loaded{opacity:1}.image-placeholder{width:100%;height:100%;display:flex;justify-content:center;align-items:center;color:#999;font-style:italic;text-align:center;padding:10px;font-size:14px}.image-placeholder svg{width:100%;height:100%}.page-text{flex:1;display:flex;align-items:center;justify-content:center;text-align:center;font-size:clamp(16px,2.2vw,24px);line-height:1.8;letter-spacing:.02em;color:var(--text);padding:10px 20px;font-style:italic}.nav-arrow{position:absolute;top:50%;transform:translateY(-50%);z-index:50;background:#ffffff14;border:1px solid rgba(255,255,255,.12);color:#ffffff8c;width:44px;height:44px;border-radius:50%;cursor:pointer;display:flex;justify-content:center;align-items:center;transition:all .25s ease;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.nav-arrow:hover{background:#ffffff26;color:#ffffffe6;border-color:#ffffff40;transform:translateY(-50%) scale(1.1)}.nav-arrow:active{transform:translateY(-50%) scale(.95)}.nav-arrow:focus-visible{outline:2px solid var(--gold);outline-offset:2px}.nav-arrow--prev{left:8px}.nav-arrow--next{right:8px}.book-footer{position:fixed;bottom:12px;left:50%;transform:translate(-50%);display:flex;flex-direction:column;align-items:center;gap:4px;z-index:100;transition:opacity .4s ease}.page-indicator{color:#ffffffb3;font-size:13px;font-family:Cormorant Garamond,Georgia,serif;letter-spacing:.1em;text-transform:uppercase;font-weight:600}.nav-hint{color:#ffffff59;font-size:11px;text-align:center;letter-spacing:.04em}.end-page{background:linear-gradient(145deg,var(--forest) 0%,var(--emerald) 40%,var(--forest) 100%);color:var(--cream);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;position:relative;overflow:hidden;border:none}.end-page:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(ellipse at 30% 20%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(ellipse at 70% 80%,rgba(0,0,0,.2) 0%,transparent 50%);pointer-events:none}.end-page-content{position:relative;z-index:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:30px}.end-decoration{font-size:clamp(40px,6vh,70px);margin-bottom:20px;animation:gentlePulse 3s ease-in-out infinite}.end-text{font-family:Caveat,cursive;font-size:clamp(24px,4.5vw,44px);margin-bottom:20px;text-shadow:2px 2px 4px rgba(0,0,0,.3);line-height:1.4}.end-hint{font-size:clamp(13px,2.2vw,20px);opacity:.8;font-style:italic;animation:fadeInOut 2s ease-in-out infinite}.question-page{background:radial-gradient(ellipse at center,rgba(255,255,255,.4) 0%,transparent 70%),linear-gradient(135deg,var(--mint) 0%,#c8e6c9 50%,#b8d4b8 100%);justify-content:center;align-items:center;text-align:center;padding:40px;position:relative;overflow:hidden}.question-page:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:60%;background:radial-gradient(ellipse,rgba(45,90,61,.08) 0%,transparent 70%);pointer-events:none}.question-page:after{display:none}.question-content{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%;position:relative;z-index:1}.question-title{font-family:Caveat,cursive;font-size:clamp(48px,8vw,82px);color:var(--forest);margin-bottom:60px;text-shadow:2px 2px 4px rgba(0,0,0,.1),0 0 40px rgba(45,90,61,.15);line-height:1.2;animation:subtlePulse 3s ease-in-out infinite;position:relative}@keyframes subtlePulse{0%,to{transform:scale(1)}50%{transform:scale(1.02)}}.question-title:after{content:"";display:block;width:60px;height:3px;background:linear-gradient(90deg,transparent,var(--forest),transparent);margin:20px auto 0;border-radius:2px}.question-buttons{display:flex;flex-direction:column;gap:25px;align-items:center;justify-content:center;position:relative;min-height:250px;width:100%;flex:1}.no-btn-container{position:relative;width:100%;height:80px;display:flex;justify-content:center;align-items:center}.yes-btn{padding:28px 90px;font-family:Caveat,cursive;font-size:clamp(28px,5vw,42px);font-weight:700;background:linear-gradient(145deg,#3d7a4d,var(--forest),#2a5a3a);color:#fff;border:none;border-radius:60px;cursor:pointer;transition:all .4s cubic-bezier(.175,.885,.32,1.275);box-shadow:0 8px 30px #2d5a3d80,0 4px 15px #2d5a3d4d,inset 0 2px #fff3,inset 0 -2px #0000001a;position:relative;overflow:hidden;letter-spacing:1px;text-shadow:0 2px 4px rgba(0,0,0,.2);animation:yesButtonGlow 2s ease-in-out infinite}@keyframes yesButtonGlow{0%,to{box-shadow:0 8px 30px #2d5a3d80,0 4px 15px #2d5a3d4d,inset 0 2px #fff3,inset 0 -2px #0000001a}50%{box-shadow:0 8px 40px #2d5a3db3,0 4px 20px #2d5a3d80,0 0 60px #2d5a3d4d,inset 0 2px #fff3,inset 0 -2px #0000001a}}.yes-btn:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(120deg,transparent,rgba(255,255,255,.3),transparent);transition:left .6s ease}.yes-btn:hover{transform:scale(1.12) translateY(-3px);box-shadow:0 12px 45px #2d5a3d99,0 6px 20px #2d5a3d66,0 0 80px #2d5a3d66,inset 0 2px #ffffff4d}.yes-btn:hover:before{left:100%}.yes-btn:active{transform:scale(1.05) translateY(0)}.yes-btn:focus{outline:4px solid var(--gold);outline-offset:4px}.no-btn{padding:14px 35px;font-family:Caveat,cursive;font-size:clamp(18px,3vw,26px);background:linear-gradient(145deg,#e0e0e0,#c8c8c8);color:#666;border:none;border-radius:30px;cursor:pointer;transition:all .15s ease;position:absolute;white-space:nowrap;box-shadow:0 3px 12px #00000026;min-width:120px;text-align:center;z-index:10}.no-btn:hover{background:linear-gradient(145deg,#d5d5d5,#bbb)}.no-btn:focus{outline:2px solid #999;outline-offset:2px}@media (max-width: 768px){.book-container{padding:12px 16px;width:calc(100vw - 32px);height:calc(100vh - 56px)}.nav-arrow{width:36px;height:36px}.nav-arrow--prev{left:2px}.nav-arrow--next{right:2px}.nav-arrow svg{width:20px;height:20px}}@media (max-width: 600px){.book-container{padding:8px 6px;width:calc(100vw - 12px);height:calc(100vh - 48px)}.cover-title{font-size:32px}.cover-subtitle{font-size:15px}.cover-decoration{font-size:36px}.page-text{font-size:13px;line-height:1.6;padding:4px 8px}.question-title{font-size:38px;margin-bottom:40px;padding:0 15px}.question-title:after{width:40px;margin-top:15px}.yes-btn{padding:20px 50px;font-size:28px}.no-btn{padding:10px 25px;font-size:18px;min-width:100px}.no-btn-container{height:60px}.question-buttons{gap:20px;min-height:140px}.question-page{padding:25px}.nav-arrow{display:none}.page-indicator{font-size:11px}.nav-hint{font-size:10px}}@media (max-width: 400px){.cover-title{font-size:28px}.page-text{font-size:12px}}@keyframes loadingPulse{0%,to{transform:scale(1)}50%{transform:scale(1.2)}}@keyframes gentlePulse{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}@keyframes fadeInOut{0%,to{opacity:.4}50%{opacity:.8}}@keyframes floatUp{0%{transform:translateY(100vh) rotate(0) scale(.5);opacity:0}10%{opacity:.5}90%{opacity:.5}to{transform:translateY(-100px) rotate(360deg) scale(1);opacity:0}}@keyframes bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes shake{0%,to{transform:translate(0)}10%,30%,50%,70%,90%{transform:translate(-5px)}20%,40%,60%,80%{transform:translate(5px)}}@keyframes float{0%,to{transform:translateY(0) rotate(0)}25%{transform:translateY(-5px) rotate(2deg)}75%{transform:translateY(5px) rotate(-2deg)}}@keyframes sparkle{0%,to{opacity:.3;transform:scale(.8)}50%{opacity:1;transform:scale(1.2)}}@keyframes slideInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInDown{0%{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes heartBeat{0%{transform:scale(1)}14%{transform:scale(1.15)}28%{transform:scale(1)}42%{transform:scale(1.15)}70%{transform:scale(1)}}.animate-pulse{animation:gentlePulse 3s ease-in-out infinite}.animate-bounce{animation:bounce 1s ease-in-out infinite}.animate-float{animation:float 3s ease-in-out infinite}.animate-shake{animation:shake .5s ease-in-out}.animate-sparkle{animation:sparkle 2s ease-in-out infinite}.animate-heartbeat{animation:heartBeat 1.5s ease-in-out infinite}.animate-delay-100{animation-delay:.1s}.animate-delay-200{animation-delay:.2s}.animate-delay-300{animation-delay:.3s}.animate-delay-400{animation-delay:.4s}.animate-delay-500{animation-delay:.5s}.transition-fast{transition:all .2s ease}.transition-medium{transition:all .3s ease}.transition-slow{transition:all .5s ease}
